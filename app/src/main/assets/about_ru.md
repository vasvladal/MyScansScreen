# Монитор Буфера Обмена - Руководство Пользователя

## Содержание
1. [Введение](#введение)
2. [Функции](#функции)
3. [Начало Работы](#начало-работы)
4. [Использование Приложения](#использование-приложения)
   - [Главный Экран](#главный-экран)
   - [История Буфера](#история-буфера)
   - [Управление Службой](#управление-службой)
5. [Дополнительные Функции](#дополнительные-функции)
   - [Выбор Языка](#выбор-языка)
   - [Работа с Изображениями](#работа-с-изображениями)
   - [Работа с URI](#работа-с-uri)
6. [Настройки](#настройки)
7. [Решение Проблем](#решение-проблем)
8. [О Программе](#о-программе)

## Введение
Монитор Буфера Обмена - это приложение для Android, которое отслеживает всё, что вы копируете в буфер обмена, включая текст, изображения и ссылки на файлы. Оно работает в фоновом режиме и сохраняет историю ваших операций с буфером обмена.

## Функции
- Реальный мониторинг изменений буфера обмена
- История скопированного текста, изображений и URI-ссылок
- Поддержка нескольких языков (английский, русский, украинский, румынский)
- Сжатие и предпросмотр изображений
- Возможность поделиться или скопировать элементы из истории
- Фоновая служба с уведомлениями

## Начало Работы
1. **Установка**: Скачайте и установите приложение из RuStore
2. **Разрешения**: Предоставьте необходимые разрешения при запросе:
   - Доступ к буферу обмена
   - Доступ к хранилищу (для изображений)
   - Разрешение на уведомления (Android 13+)
3. **Первый Запуск**: Приложение начнет мониторинг буфера автоматически, если это предусмотрено настройками

## Использование Приложения

### Главный Экран
На главном экране отображается:
- Статус службы (работает/остановлена)
- Кнопка просмотра истории буфера
- Кнопка запуска/остановки мониторинга
- Кнопка очистки всей истории
- Кнопка меню (вверху справа) для выбора языка и информации о программе

### История Буфера
Доступ к истории через кнопку "Просмотр Буфера":
- Элементы отображаются в хронологическом порядке (новые сверху)
- Каждая запись содержит:
   - Превью содержимого (текст или миниатюра изображения)
   - Индикатор типа (цветовая маркировка)
   - Временную метку
   - Кнопки действий (поделиться, удалить)

**Действия:**
- **Короткое нажатие**: Копирование элемента обратно в буфер
- **Долгое нажатие**: Контекстное меню с дополнительными опциями
- **Поделиться**: Отправка элемента в другие приложения
- **Удалить**: Удаление элемента из истории

### Управление Службой
- **Запуск Службы**: Начинает мониторинг буфера (работает в фоне)
- **Остановка Службы**: Приостанавливает мониторинг (история сохраняется)
- Статус отображается в верхней части главного экрана

## Дополнительные Функции

### Выбор Языка
Смена языка через меню:
1. Нажмите кнопку меню (вверху справа)
2. Выберите "Язык"
3. Выберите нужный вариант
4. Приложение перезапустится с новым языком

### Работа с Изображениями
- Изображения сжимаются для экономии места
- В истории отображаются миниатюры
- Полные изображения можно скопировать или отправить
- На Android 15+ по умолчанию сохраняются только ссылки на изображения

### Работа с URI
- Файлы и content-URI сохраняются как ссылки
- Для изображений можно импортировать полную версию
- URI можно копировать или отправлять как обычные элементы

## Настройки
Приложение можно настроить через файл `config.toml` (для продвинутых пользователей):
- Максимальное количество сохраняемых записей (по умолчанию: 100)
- Автоочистка (по умолчанию: включена)
- Качество сжатия изображений (по умолчанию: 80%)
- Настройки уведомлений
- Имя и версия базы данных
- Параметры темы и предпросмотра

## Решение Проблем
**Частые проблемы:**
1. **Буфер не мониторится**:
   - Проверьте статус службы
   - Предоставьте все необходимые разрешения
   - Перезапустите приложение

2. **Изображения не отображаются**:
   - Проверьте разрешения на доступ к хранилищу
   - На Android 15+ изображения могут сохраняться только как ссылки

3. **Служба неожиданно останавливается**:
   - Отключите оптимизацию батареи для приложения
   - Убедитесь, что система не завершает работу приложения

## О Программе
- Версия: [указана в заголовке приложения]
- Описание: Утилита для мониторинга буфера обмена
- Информация о разработчике доступна в разделе "О программе"

---

*Примечание: Данное руководство составлено для версии ${AppInfo.getFormattedVersion(context)}. Некоторые функции могут отличаться в зависимости от устройства и версии Android.*